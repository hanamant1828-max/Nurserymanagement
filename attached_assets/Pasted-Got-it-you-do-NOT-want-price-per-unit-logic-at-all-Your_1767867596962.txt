Got it â€” **you do NOT want price-per-unit logic at all** ğŸ‘
Your flow is:

âŒ **Do NOT calculate:** `Quantity Ã— PricePerUnit`
âœ… **Only use manually entered Total Amount**

So the bug is happening because **Quantity is mistakenly being used as Total Amount**.

Here is a **clean, developer-friendly requirement** you can directly share with your team:

---

## ğŸ”§ Fix Requirement â€“ Do NOT Use Quantity in Amount Calculation

### âŒ Current Bug

The system is treating **Quantity** as **Total Amount**.
Example:

```
Quantity = 10000
TotalAmount = 10000  âŒ (wrong)
```

---

## âœ… Expected Logic (Manual Amount Entry Only)

### 1ï¸âƒ£ Amount Fields Must Be Independent

* **Quantity** â†’ Only for stock tracking and validation
* **Total Amount** â†’ Entered manually by the user
* **Advance Amount** â†’ Entered by the user
* **Remaining Balance** â†’ Auto-calculated

---

### 2ï¸âƒ£ Correct Calculation Formula

```
RemainingBalance = TotalAmount - AdvanceAmount
```

âš  **Quantity must NOT be used in any amount calculation.**

---

### 3ï¸âƒ£ Validation Rules

#### âœ” Quantity vs Stock

```
If (Quantity > AvailableStock)
    Show error: "Quantity exceeds available stock"
    Disable Confirm button
```

#### âœ” Advance vs Total

```
If (AdvanceAmount > TotalAmount)
    Show error: "Advance cannot be greater than Total Amount"
    Disable Confirm button
```

---

### 4ï¸âƒ£ UI / Form Behavior

* **Total Amount** must be a separate input field.
* Changing **Quantity** must:

  * Only validate stock
  * **Not update Total Amount**
* **Remaining Balance** must:

  * Be read-only
  * Recalculate in real time when Total or Advance changes

---

## ğŸ§ª Example (Correct)

```
Quantity = 10000
TotalAmount = 25000
Advance = 5000
Remaining = 20000
```

âœ” Quantity affects stock only
âœ” Amount fields work independently

---

## ğŸ—‚ Backend Fields (Reference)

```
quantity            INT
total_amount        DECIMAL(10,2)
advance_amount      DECIMAL(10,2)
remaining_balance   DECIMAL(10,2)
```

---

## ğŸ§‘â€ğŸ’» Developer Action

âœ” Remove any logic that assigns:

```
TotalAmount = Quantity
```

âœ” Ensure only this calculation exists:

```
RemainingBalance = TotalAmount - AdvanceAmount
```

---

If you want, I can also:
ğŸ‘‰ Convert this into **exact frontend JS / React / Angular logic**
ğŸ‘‰ Or backend validation in **.NET / Java / Python / SQL**
ğŸ‘‰ Or a **bug ticket format** for Jira/GitHub.

Just tell me your tech stack.
